(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{233:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},357:function(e,t,n){},599:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(46),c=n.n(r),o=n(11),i=n(13),l=n(15),u=n(14),h=n(604),d=(n(232),n(233),n(51)),j=n.n(d),b=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e){return t.app.post("/new-user",e)},this.login=function(e){return t.app.post("/login",e)},this.logout=function(){return t.app.get("/logout")},this.isLoggedIn=function(){return t.app.get("/isLoggedIn")},this.app=j.a.create({baseURL:"".concat("https://ih-tagger.herokuapp.com/api","/auth"),withCredentials:!0})},p=n(28),O=n(12),m=n(609),g=n(224),x=function e(){var t=this;Object(o.a)(this,e),this.myProfile=function(){return t.app.get("/current-user")},this.seeOtherProfile=function(e){return t.app.get("/".concat(e))},this.addFavUser=function(e){return t.app.put("/add-fav-user/".concat(e))},this.addFavTag=function(e){return t.app.put("/add-fav-tag".concat(e))},this.app=j.a.create({baseURL:"".concat("https://ih-tagger.herokuapp.com/api","/user"),withCredentials:!0})},f=function e(){var t=this;Object(o.a)(this,e),this.newPost=function(e){return t.app.post("/new",e)},this.getOnePost=function(e){return t.app.get("/".concat(e))},this.getAllPosts=function(){return t.app.get("/getAllPosts")},this.editPost=function(e){return t.app.put("/".concat(e._id),e)},this.newComment=function(e,n){return t.app.post("/".concat(e,"/new-comment"),n)},this.getAllComments=function(e){return t.app.get("/".concat(e,"/allComments"))},this.app=j.a.create({baseURL:"".concat("https://ih-tagger.herokuapp.com/api","/post"),withCredentials:!0})},v=(n(151),n(23)),y=n(227),S=n(222),C=n(1),U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={editorState:v.EditorState.createEmpty()},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.postContent),this.setState({editorState:v.EditorState.createWithContent(v.ContentState.createFromBlockArray(Object(v.convertFromHTML)(this.props.postContent)))})}},{key:"onEditorStateChange",value:function(e){this.setState({editorState:e}),this.props.updateState(Object(y.a)(e.getCurrentContent()))}},{key:"render",value:function(){var e=this,t=this.state.editorState;return Object(C.jsx)("div",{children:Object(C.jsx)(S.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"t-postEditor",editorState:t,onEditorStateChange:function(t){return e.onEditorStateChange(t)}})})}}]),n}(s.Component),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={post:{_id:null,title:"",body:""},hasLoaded:!1},e.userService=new x,e.postService=new f,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.postId;if("new"!==t)this.postService.getOnePost(t).then((function(t){e.setState({post:t.data,hasLoaded:!0})})).catch((function(e){return console.log(e)}));else{var n=Object(O.a)({},this.state);n.hasLoaded=!0,this.setState(n)}}},{key:"updateState",value:function(e){var t=Object(O.a)({},this.state.post);t.body=e,this.setState({post:t})}},{key:"handleTitleChange",value:function(e){var t=Object(O.a)({},this.state.post),n=e.target.value;t.title=n,this.setState({post:t})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),(null===this.state.post._id?this.postService.newPost(this.state.post):this.postService.editPost(this.state.post)).then((function(){t.props.history.push("/")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return e.state.hasLoaded?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(C.jsxs)(m.a.Group,{controlId:"title",children:[Object(C.jsx)(m.a.Label,{children:"T\xedtulo"}),Object(C.jsx)(m.a.Control,{type:"text",value:e.state.post.title,onChange:function(t){return e.handleTitleChange(t)},name:"title"})]}),Object(C.jsx)("br",{}),Object(C.jsx)(U,{updateState:function(t){return e.updateState(t)},postContent:e.state.post.body}),Object(C.jsx)(g.a,{className:"t-bgBtn",type:"submit",children:"Publicar post"})]})}):null}}]),n}(s.Component),k=n(606),N=n(605),I=n(612),T=n(77),B=n(21),M=function(e){var t=e._id,n=e.title,s=e.body,a=e.author,r=e.authorIsUser;return Object(C.jsx)(h.a,{children:Object(C.jsx)(N.a,{children:Object(C.jsx)(I.a,{children:Object(C.jsxs)(I.a.Body,{children:[Object(C.jsx)(I.a.Title,{children:n}),Object(C.jsx)(I.a.Subtitle,{className:"mb-2 text-muted",children:a.displayName}),Object(C.jsx)(I.a.Body,{children:Object(C.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})}),r?Object(C.jsx)(B.b,{to:"/edit-post/".concat(t),children:Object(C.jsx)(g.a,{className:"editBtn",children:Object(C.jsx)(T.a,{})})}):null]})})})})},_=n(223),L=function(e){var t=e.body,n=e.author,s=e.date;return Object(C.jsx)(_.a,{md:3,children:Object(C.jsx)(I.a,{children:Object(C.jsxs)(I.a.Body,{children:[Object(C.jsx)(I.a.Text,{children:t}),Object(C.jsx)(I.a.Subtitle,{className:"mb-2 text-muted",children:n.displayName}),Object(C.jsx)(I.a.Text,{children:s})]})})})},P=n(608),F=n(52),D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={comment:{body:""}},s.postService=new f,s}return Object(i.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,s=t.value;this.setState({comment:Object(O.a)(Object(O.a)({},this.state.comment),{},Object(F.a)({},n,s))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.postService.newComment(this.props.postId,this.state.comment).then((function(){t.props.closeModal(),t.props.refreshComments()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(m.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(C.jsx)(m.a.Group,{controlId:"body",children:Object(C.jsx)(m.a.Control,{type:"text",value:this.state.body,onChange:function(t){return e.handleInputChange(t)},name:"body"})}),Object(C.jsx)(g.a,{className:"t-bgBtn",style:{width:"100%"},type:"submit",children:"Publicar comentario"})]})}}]),n}(s.Component),A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={comments:void 0,showModal:!1},e.postService=new f,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadComments()}},{key:"loadComments",value:function(){var e=this;this.postService.getAllComments(this.props.postId).then((function(t){e.setState({comments:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.comments;return Object(C.jsxs)(C.Fragment,{children:[t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(g.a,{onClick:function(){return e.setState({showModal:!0})},className:"t-bgBtn",size:"sm",style:{marginBottom:"20px"},children:"A\xf1adir un comentario"}),Object(C.jsxs)(P.a,{show:e.state.showModal,onHide:function(){return e.setState({showModal:!1})},children:[Object(C.jsxs)(P.a.Header,{children:[" ",Object(C.jsx)(P.a.Title,{children:"Nuevo comentario"})," "]}),Object(C.jsx)(P.a.Body,{children:Object(C.jsx)(D,{postId:e.props.postId,loggedUser:e.props.loggedUser,closeModal:function(){return e.setState({showModal:!1})},refreshComments:function(){return e.loadComments()}})})]})]}):Object(C.jsx)(k.a,{animation:"border",role:"status",children:Object(C.jsx)("span",{className:"sr-only"})}),t&&!t.length?Object(C.jsx)("p",{children:"Este post no tiene comentarios a\xfan"}):t?Object(C.jsx)(N.a,{children:t.map((function(e){return Object(C.jsx)(L,Object(O.a)({},e),e._id)}))}):void 0]})}}]),n}(s.Component),E=function(e){var t=e.loggedUser,n=e.postId;return Object(C.jsxs)(h.a,{children:[Object(C.jsx)("hr",{}),Object(C.jsx)("h3",{children:"Comentarios de este post"}),Object(C.jsx)("hr",{}),Object(C.jsx)(A,{loggedUser:t,postId:n})]})},G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={post:void 0},e.postService=new f,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.postId;this.postService.getOnePost(t).then((function(t){return e.setState({post:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(C.jsx)(h.a,{children:this.state.post?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(M,Object(O.a)(Object(O.a)({},this.state.post),{},{authorIsUser:this.props.loggedUser._id===this.state.post.author._id})),Object(C.jsx)("hr",{}),Object(C.jsx)(E,{loggedUser:this.props.loggedUser,postId:this.state.post._id})]}):Object(C.jsx)(k.a,{animation:"border",role:"status",children:Object(C.jsx)("span",{className:"sr-only"})})})}}]),n}(s.Component),R=function(e){var t=e._id,n=e.title,s=e.author,a=e.body;e.history;return Object(C.jsx)(B.b,{to:"/posts/".concat(t),className:"no-decor",children:Object(C.jsx)(I.a,{className:"marged t-bgColor",children:Object(C.jsxs)(I.a.Body,{className:"lat-padded",children:[Object(C.jsx)(I.a.Title,{className:"big",children:n}),Object(C.jsx)(I.a.Subtitle,{className:"mb-2 text-muted",children:s.displayName}),Object(C.jsx)(I.a.Text,{children:Object(C.jsx)("span",{className:"t-italic",dangerouslySetInnerHTML:{__html:a.slice(0,100).replace(/(<([^>]+)>)/gi,"")}})})]})})})},z=(n(352),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={posts:void 0},e.postService=new f,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadPosts()}},{key:"loadPosts",value:function(){var e=this;this.postService.getAllPosts().then((function(t){return e.setState({posts:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.posts;return t?Object(C.jsxs)(C.Fragment,{children:["USER"===this.props.loggedUser.role?Object(C.jsx)(B.b,{to:"/edit-post/new",className:"t-bgBtn btn btn-primary",children:"Crear nuevo post"}):null,Object(C.jsx)("div",{className:"posts-list",children:t.map((function(t){return Object(C.jsx)(R,Object(O.a)(Object(O.a)({},t),{},{authorIsUser:e.props.loggedUser._id===t.author._id,history:e.props.history}),t._id)}))})]}):Object(C.jsx)(k.a,{animation:"border",role:"status",children:Object(C.jsx)("span",{className:"sr-only"})})}}]),n}(s.Component)),H=function(e){var t=e.loggedUser,n=e.history;return Object(C.jsxs)(h.a,{children:[Object(C.jsx)("hr",{}),Object(C.jsx)(z,{loggedUser:t,history:n})]})},V=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={username:"",pwd:"",displayName:"",email:"",birthdate:""},e.authService=new b,e}return Object(i.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,s=t.value;this.setState(Object(F.a)({},n,s))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.authService.signup(this.state).then((function(e){t.props.history.push("/login")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(m.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(C.jsxs)(m.a.Group,{controlId:"displayName",children:[Object(C.jsx)(m.a.Label,{children:"Nombre completo"}),Object(C.jsx)(m.a.Control,{type:"text",value:this.state.displayName,onChange:function(t){return e.handleInputChange(t)},name:"displayName"})]}),Object(C.jsxs)(m.a.Group,{controlId:"username",children:[Object(C.jsx)(m.a.Label,{children:"Nombre de usuario"}),Object(C.jsx)(m.a.Control,{type:"text",value:this.state.username,onChange:function(t){return e.handleInputChange(t)},name:"username"})]}),Object(C.jsxs)(m.a.Group,{controlId:"email",children:[Object(C.jsx)(m.a.Label,{children:"Mail"}),Object(C.jsx)(m.a.Control,{type:"email",value:this.state.email,onChange:function(t){return e.handleInputChange(t)},name:"email"})]}),Object(C.jsxs)(m.a.Group,{controlId:"password",children:[Object(C.jsx)(m.a.Label,{children:"Password"}),Object(C.jsx)(m.a.Control,{type:"password",value:this.state.pwd,onChange:function(t){return e.handleInputChange(t)},name:"pwd"})]}),Object(C.jsxs)(m.a.Group,{controlId:"birthdate",children:[Object(C.jsx)(m.a.Label,{children:"Fecha de nacimiento"}),Object(C.jsx)(m.a.Control,{type:"date",value:this.state.birthdate,onChange:function(t){return e.handleInputChange(t)},name:"birthdate"})]}),Object(C.jsx)(g.a,{className:"t-bgBtn",style:{width:"100%",marginTop:"20px"},type:"submit",children:"\xa1Vamos all\xe1!"})]})}}]),n}(s.Component),J=function(e){var t=e.storeUser,n=e.history;return Object(C.jsx)(h.a,{children:Object(C.jsx)(N.a,{className:"justify-content-center",children:Object(C.jsxs)(_.a,{md:6,children:[Object(C.jsx)("h1",{children:"Registro"}),Object(C.jsx)("hr",{}),Object(C.jsx)(V,{storeUser:t,history:n}),Object(C.jsx)("hr",{})]})})})},W=function e(){var t=this;Object(o.a)(this,e),this.newTag=function(e){return t.app.post("/new-tag",e)},this.getOneTag=function(e){return t.app.get("/edit-tag/".concat(e))},this.editTag=function(e){return t.app.put("/".concat(e.tagId),e)},this.getAllUsers=function(){return t.app.get("/users-list")},this.deleteOneUser=function(e){return t.app.delete("/delete-user/".concat(e))},this.deleteOnePost=function(e){return t.app.delete("/delete-post/".concat(e))},this.deleteOneTag=function(e){return t.app.delete("/delete-tag/".concat(e))},this.app=j.a.create({baseURL:"".concat("https://ih-tagger.herokuapp.com/api","/admin"),withCredentials:!0})},X=(n(353),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={tag:{name:"",_id:"",description:""}},s.adminService=new W,s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.tag),this.setState({tag:this.props.tag})}},{key:"handleSubmit",value:function(e){var t=this;this.adminService.editTag(this.state.tag._id).then((function(){t.props.refreshTags()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(C.jsx)(_.a,{md:4,children:Object(C.jsx)(I.a,{children:Object(C.jsxs)(I.a.Body,{children:[Object(C.jsx)(I.a.Title,{children:this.state.tag.name}),Object(C.jsx)(I.a.Text,{children:this.state.tag.description}),Object(C.jsx)(g.a,{className:"editBtn",onClick:function(){return e.handleSubmit(e.state.tag.tagId)},children:Object(C.jsx)(T.a,{})})]})})})}}]),n}(s.Component)),Y=function e(){var t=this;Object(o.a)(this,e),this.getAllTags=function(){return t.app.get("/tag-list")},this.app=j.a.create({baseURL:"".concat("https://ih-tagger.herokuapp.com/api","/tag"),withCredentials:!0})},q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={tag:{name:"",description:""}},s.adminService=new W,s}return Object(i.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,s=t.value;this.setState({tag:Object(O.a)(Object(O.a)({},this.state.tag),{},Object(F.a)({},n,s))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.adminService.newTag(this.state.tag).then((function(){t.props.closeModal(),t.props.refreshTags()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(m.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(C.jsxs)(m.a.Group,{controlId:"name",children:[Object(C.jsx)(m.a.Label,{children:"Nombre"}),Object(C.jsx)(m.a.Control,{type:"text",value:this.state.name,onChange:function(t){return e.handleInputChange(t)},name:"name"})]}),Object(C.jsxs)(m.a.Group,{controlId:"description",children:[Object(C.jsx)(m.a.Label,{children:"Descripci\xf3n"}),Object(C.jsx)(m.a.Control,{type:"text",value:this.state.description,onChange:function(t){return e.handleInputChange(t)},name:"description"})]}),Object(C.jsx)(g.a,{className:"t-bgBtn",style:{width:"100%"},type:"submit",children:"Crear tag"})]})}}]),n}(s.Component),K=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={tags:void 0,showModal:!1},e.adminService=new W,e.tagService=new Y,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadTags()}},{key:"loadTags",value:function(){var e=this;this.tagService.getAllTags().then((function(t){console.log(t),e.setState({tags:t.data.allTags})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.tags;return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(g.a,{onClick:function(){return e.setState({showModal:!0})},className:"t-bgBtn",size:"sm",style:{marginBottom:"20px"},children:"A\xf1adir una tag nueva"}),Object(C.jsx)(N.a,{children:t.map((function(t){return Object(C.jsx)(X,{tag:Object(O.a)({},t),refreshTags:function(){return e.loadTags()}},t._id)}))}),Object(C.jsx)(g.a,{className:"goBackBtn",onClick:function(){return e.props.history.push("/my-profile")},children:"Volver"}),Object(C.jsxs)(P.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})},children:[Object(C.jsxs)(P.a.Header,{children:[" ",Object(C.jsx)(P.a.Title,{children:"Nuevo tag"})," "]}),Object(C.jsx)(P.a.Body,{children:Object(C.jsx)(q,{loggedUser:this.props.loggedUser,closeModal:function(){return e.setState({showModal:!1})},refreshTags:function(){return e.loadTags()}})})]})]}):Object(C.jsx)(k.a,{animation:"border",role:"status",children:Object(C.jsx)("span",{className:"sr-only"})})}}]),n}(s.Component),Q=function(e){var t=e.loggedUser,n=e.history;return Object(C.jsxs)(h.a,{children:[Object(C.jsx)("h1",{children:"Listado de tags"}),Object(C.jsx)("hr",{}),Object(C.jsx)(K,{loggedUser:t,history:n})]})},Z=function(e){var t=e.displayName,n=e.username,s=e.image,a=e.email;return Object(C.jsx)(h.a,{children:Object(C.jsx)(N.a,{children:Object(C.jsx)(_.a,{children:Object(C.jsx)(I.a,{children:Object(C.jsxs)(I.a.Body,{children:[Object(C.jsx)(I.a.Img,{children:s}),Object(C.jsx)(I.a.Title,{children:n}),Object(C.jsx)(I.a.Subtitle,{className:"mb-2 text-muted",children:t}),Object(C.jsx)(I.a.Text,{children:a})]})})})})})},$=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(B.b,{to:"/users",className:"btn btn-primary t-bgBtn",children:"Lista de Users"})})},ee=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={user:void 0},e.userService=new x,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.userService.myProfile().then((function(t){return e.setState({user:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(C.jsx)(h.a,{children:this.state.user?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h1",{children:["Perfil de ",this.state.user.username]}),Object(C.jsx)("hr",{}),Object(C.jsx)(Z,Object(O.a)({},this.state.user)),Object(C.jsx)("hr",{}),Object(C.jsx)(B.b,{to:"/tags",className:"btn btn-primary t-bgBtn right-marged",children:"Lista de tags"}),"ADMIN"===this.state.user.role?Object(C.jsx)($,{}):null]}):Object(C.jsx)(k.a,{animation:"border",role:"status",children:Object(C.jsx)("span",{className:"sr-only"})})})}}]),n}(s.Component),te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={username:"",pwd:""},e.authService=new b,e}return Object(i.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,s=t.value;this.setState(Object(F.a)({},n,s))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.authService.login(this.state).then((function(e){t.props.storeUser(e.data),t.props.history.push("/")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(m.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(C.jsxs)(m.a.Group,{controlId:"username",children:[Object(C.jsx)(m.a.Label,{children:"Nombre de usuario"}),Object(C.jsx)(m.a.Control,{type:"text",value:this.state.username,onChange:function(t){return e.handleInputChange(t)},name:"username"})]}),Object(C.jsxs)(m.a.Group,{controlId:"password",children:[Object(C.jsx)(m.a.Label,{children:"Password"}),Object(C.jsx)(m.a.Control,{type:"password",value:this.state.pwd,onChange:function(t){return e.handleInputChange(t)},name:"pwd"})]}),Object(C.jsx)(g.a,{className:"t-bgBtn",style:{width:"100%",marginTop:"20px"},type:"submit",children:"Iniciar sesi\xf3n"})]})}}]),n}(s.Component),ne=function(e){var t=e.storeUser,n=e.history;return Object(C.jsx)(h.a,{children:Object(C.jsx)(N.a,{className:"justify-content-center",children:Object(C.jsxs)(_.a,{md:6,children:[Object(C.jsx)("h1",{children:"Inicio de sesi\xf3n"}),Object(C.jsx)("hr",{}),Object(C.jsx)(te,{storeUser:t,history:n}),Object(C.jsx)("hr",{}),Object(C.jsx)(B.b,{to:"/signup",className:"btn t-bgBtn btn-primary",children:"\xbfA\xfan no eres un tagger? \xa1\xdanete!"})]})})})},se=(n(354),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={user:{username:"",_id:"",displayName:""}},s.adminService=new W,s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.user),this.setState({user:this.props.user})}},{key:"handleSubmit",value:function(e){var t=this;this.adminService.deleteOneUser(this.state.user._id).then((function(){t.props.refreshUsers()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(C.jsx)(_.a,{md:3,children:Object(C.jsx)(I.a,{children:Object(C.jsxs)(I.a.Body,{children:[Object(C.jsx)(I.a.Title,{children:this.state.user.username}),Object(C.jsx)(I.a.Subtitle,{className:"mb-2 text-muted",children:this.state.user.displayName}),Object(C.jsx)(g.a,{className:"removeUserBtn btn-danger",onClick:function(){return e.handleSubmit(e.state.user.userId)},children:Object(C.jsx)(T.b,{})})]})})})}}]),n}(s.Component)),ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={users:void 0},e.adminService=new W,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadUsers()}},{key:"loadUsers",value:function(){var e=this;this.adminService.getAllUsers().then((function(t){e.setState({users:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.users;return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.a,{children:t.map((function(t){return Object(C.jsx)(se,{user:Object(O.a)({},t),refreshUsers:function(){return e.loadUsers()}},t._id)}))}),Object(C.jsx)(g.a,{onClick:function(){return e.props.history.push("/my-profile")},className:"goBackBtn",size:"sm",style:{marginBottom:"20px"},children:"Volver"})]}):Object(C.jsx)(k.a,{animation:"border",role:"status",children:Object(C.jsx)("span",{className:"sr-only"})})}}]),n}(s.Component),re=function(e){var t=e.loggedUser,n=e.history;return Object(C.jsxs)(h.a,{children:[Object(C.jsx)("h1",{children:"Listado de users"}),Object(C.jsx)("hr",{}),Object(C.jsx)(ae,{loggedUser:t,history:n})]})},ce=n(117),oe=function(e){var t=e.component,n=e.loggedUser,s=e.hasPermission,a=e.path,r=Object(ce.a)(e,["component","loggedUser","hasPermission","path"]);return Object(C.jsx)(p.b,Object(O.a)(Object(O.a)({path:a},r),{},{render:function(e){return n&&s?Object(C.jsx)(t,Object(O.a)(Object(O.a)({},e),{},{loggedUser:n,history:e.history})):Object(C.jsx)(p.a,{to:"/login"})}}))},ie=function(e){var t=e.component,n=e.loggedUser,s=e.storeUser,a=e.path,r=Object(ce.a)(e,["component","loggedUser","storeUser","path"]);return Object(C.jsx)(p.b,Object(O.a)(Object(O.a)({path:a},r),{},{render:function(e){return n?Object(C.jsx)(p.a,{to:"/"}):Object(C.jsx)(t,Object(O.a)(Object(O.a)({},e),{},{storeUser:s,history:e.history}))}}))},le=function(e){var t=e.storeUser,n=e.loggedUser;return Object(C.jsxs)(p.d,{children:["(",Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ie,{exact:!0,path:"/login",loggedUser:n,storeUser:t,component:ne}),Object(C.jsx)(ie,{exact:!0,path:"/signup",loggedUser:n,storeUser:t,component:J}),Object(C.jsx)(oe,{exact:!0,path:"/",loggedUser:n,hasPermission:!0,component:H}),Object(C.jsx)(oe,{exact:!0,path:"/users",loggedUser:n,hasPermission:n&&"ADMIN"===n.role,component:re}),Object(C.jsx)(oe,{exact:!0,path:"/my-profile",loggedUser:n,hasPermission:!0,component:ee}),Object(C.jsx)(oe,{exact:!0,path:"/tags",loggedUser:n,hasPermission:!0,component:Q}),Object(C.jsx)(oe,{path:"/posts/:postId",loggedUser:n,hasPermission:!0,component:G}),Object(C.jsx)(oe,{path:"/edit-post/:postId",loggedUser:n,hasPermission:n&&"USER"===n.role,component:w})]}),")"]})},ue=n(610),he=n(611),de=n(607),je=(n(355),function(e){var t=e.loggedUser,n=e.storeUser;return Object(C.jsxs)(ue.a,{variant:"dark",className:"justify-content-around navigation",children:[Object(C.jsx)(B.b,{to:"/",children:Object(C.jsx)(ue.a.Brand,{children:Object(C.jsx)("img",{src:"/white-logo.png",width:"30",height:"30",className:"d-inline-block align-top t-logo",alt:"tagger logo"})})}),Object(C.jsx)(he.a,{className:"mr-auto",children:t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.b,{to:"/my-profile",className:"nav-link t-profileBtn",children:Object(C.jsxs)("p",{children:[" | Hola, ",t.username," | "]})}),Object(C.jsxs)(de.a,{title:"Men\xfa",className:"t-link",children:["USER"===t.role?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.b,{to:"/posts",className:"nav-link",children:Object(C.jsx)("p",{children:"Mis posts"})}),Object(C.jsx)(B.b,{to:"/edit-post/new",className:"nav-link",children:Object(C.jsx)("p",{children:"Post nuevo"})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.b,{to:"/tags",className:"nav-link",children:Object(C.jsx)("p",{children:"Lista de tags"})}),Object(C.jsx)(B.b,{to:"/users",className:"nav-link",children:Object(C.jsx)("p",{children:"Lista de users"})})]}),Object(C.jsx)("span",{onClick:function(){(new b).logout().then((function(){n(void 0)})).catch((function(e){return console.log(e)}))},className:"nav-link",children:"Cerrar sesi\xf3n"})]})]}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(p.a,{to:"/login"})})})]})}),be=(n(357),function(){return Object(C.jsx)("footer",{children:"Proudly founded by Nat Canales | All rights reserved"})}),pe=n(226),Oe=n.n(pe),me={width:"99vw",height:"100%",position:"fixed",top:0,left:0,zIndex:-1},ge=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{style:me,children:Object(C.jsx)(Oe.a,{params:{particles:{number:{value:200,density:{enable:!0,value_area:1803.4120608655228}},color:{value:"#FF0080"},shape:{type:"star",stroke:{width:0,color:"#000000"},polygon:{nb_sides:4},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:1,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:0,color:"#000",opacity:.3687847739990702,width:.6413648243462091},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"window",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!1,mode:"bubble"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:100,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}})})}}]),n}(s.Component),xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).storeUser=function(t){e.setState({loggedUser:t})},e.fetchUser=function(){e.authService.isLoggedIn().then((function(t){return e.setState({loggedUser:t.data})})).catch((function(){return e.setState({loggedUser:void 0})}))},e.state={loggedUser:void 0},e.authService=new b,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(je,{storeUser:function(t){return e.storeUser(t)},loggedUser:this.state.loggedUser}),Object(C.jsxs)(h.a,{className:"padded",children:[Object(C.jsx)(le,{storeUser:function(t){return e.storeUser(t)},loggedUser:this.state.loggedUser}),Object(C.jsx)(ge,{})]}),Object(C.jsx)(be,{})]})}}]),n}(s.Component);c.a.render(Object(C.jsx)(B.a,{children:Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(xe,{})})}),document.getElementById("root"))}},[[599,1,2]]]);
//# sourceMappingURL=main.fbd40f6e.chunk.js.map